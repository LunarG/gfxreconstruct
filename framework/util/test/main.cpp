///////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2019 Advanced Micro Devices, Inc.All rights reserved
// Copyright (c) 2022 Valve Corporation
// Copyright (c) 2022 LunarG, Inc.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the "Software"),
// to deal in the Software without restriction, including without limitation
// the rights to use, copy, modify, merge, publish, distribute, sublicense,
// and/or sell copies of the Software, and to permit persons to whom the
// Software is furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
// DEALINGS IN THE SOFTWARE.
//
/// @file gfxrecon_util test main entry point
///////////////////////////////////////////////////////////////////////////////

#define CATCH_CONFIG_MAIN
#include <catch2/catch.hpp>

#include "util/to_string.h"
#include "util/strings.h"
#include "util/date_time.h"
#include "util/logging.h"

using namespace gfxrecon::util::strings;
using namespace gfxrecon::util::datetime;

TEST_CASE("JSONEscape", "[to_string]")
{
    gfxrecon::util::Log::Init(gfxrecon::util::Log::kDebugSeverity);

    std::string escaped;

    escaped = "";
    gfxrecon::util::JSONEscape("", escaped);
    REQUIRE(escaped == "");

    escaped = "";
    gfxrecon::util::JSONEscape("a", escaped);
    REQUIRE(escaped == "a");

    escaped = "";
    gfxrecon::util::JSONEscape("a.b", escaped);
    REQUIRE(escaped == "a.b");

    escaped = "";
    gfxrecon::util::JSONEscape("\"", escaped);
    REQUIRE(escaped == "\\\"");

    escaped = "";
    gfxrecon::util::JSONEscape("\"\"", escaped);
    REQUIRE(escaped == "\\\"\\\"");

    escaped = "";
    gfxrecon::util::JSONEscape("\"\"\"", escaped);
    REQUIRE(escaped == "\\\"\\\"\\\"");

    escaped = "";
    gfxrecon::util::JSONEscape("\"\"\"\"", escaped);
    REQUIRE(escaped == "\\\"\\\"\\\"\\\"");

    escaped = "";
    gfxrecon::util::JSONEscape("\t", escaped);
    REQUIRE(escaped == "\\t");

    escaped = "";
    gfxrecon::util::JSONEscape("\r", escaped);
    REQUIRE(escaped == "\\r");

    escaped = "";
    gfxrecon::util::JSONEscape("\n", escaped);
    REQUIRE(escaped == "\\n");

    escaped = "";
    gfxrecon::util::JSONEscape("\f", escaped);
    REQUIRE(escaped == "\\f");

    escaped = "";
    gfxrecon::util::JSONEscape("\b", escaped);
    REQUIRE(escaped == "\\b");

    escaped = "";
    gfxrecon::util::JSONEscape("/", escaped);
    REQUIRE(escaped == "/");

    escaped = "";
    gfxrecon::util::JSONEscape("\\", escaped);
    REQUIRE(escaped == "\\\\");

    escaped = "";
    gfxrecon::util::JSONEscape("/home/tracer/captures/app1/capture.gfxr", escaped);
    REQUIRE(escaped == "/home/tracer/captures/app1/capture.gfxr");

    escaped = "";
    gfxrecon::util::JSONEscape("\\home\\tracer\\captures\\app1\\capture.gfxr", escaped);
    REQUIRE(escaped == "\\\\home\\\\tracer\\\\captures\\\\app1\\\\capture.gfxr");

    gfxrecon::util::Log::Release();
}

TEST_CASE("TabRight", "[strings]")
{
    gfxrecon::util::Log::Init(gfxrecon::util::Log::kDebugSeverity);

    REQUIRE(gfxrecon::util::strings::TabRight("") == "\t");
    REQUIRE(gfxrecon::util::strings::TabRight("\n") == "\t\n\t");
    REQUIRE(gfxrecon::util::strings::TabRight("\t") == "\t\t");
    REQUIRE(gfxrecon::util::strings::TabRight("\t\t") == "\t\t\t");
    REQUIRE(gfxrecon::util::strings::TabRight("l1\nl2\nl3") == "\tl1\n\tl2\n\tl3");
    REQUIRE_FALSE(gfxrecon::util::strings::TabRight("l1\nl2\n\nl3") == "\tl1\n\tl2\n\tl3");

    gfxrecon::util::Log::Release();
}

TEST_CASE("UtcString", "[datetime]")
{
    gfxrecon::util::Log::Init(gfxrecon::util::Log::kDebugSeverity);

    auto zero         = UtcString(0);
    auto one          = UtcString(1);
    auto two          = UtcString(2);
    auto one_thousand = UtcString(1000);
    auto two_thousand = UtcString(2000);

    // Looking for clean output like zero: 1970-00-01T00:00:00Z
    REQUIRE(zero[18] == '0');
    REQUIRE(zero[19] == 'Z');
    REQUIRE(zero[4] == '-');
    REQUIRE(zero[7] == '-');
    REQUIRE(zero[10] == 'T');
    REQUIRE(zero[16] == ':');
    REQUIRE(zero[13] == ':');

    REQUIRE(one[18] == '1');
    REQUIRE(one[19] == 'Z');

    REQUIRE(two[18] == '2');
    REQUIRE(two[19] == 'Z');

    REQUIRE(one_thousand[19] == 'Z');
    REQUIRE(two_thousand[19] == 'Z');

    REQUIRE(zero.length() == 20);
    REQUIRE(one.length() == 20);
    REQUIRE(two.length() == 20);
    REQUIRE(one_thousand.length() == 20);
    REQUIRE(two_thousand.length() == 20);

    // Pump some random time points between -2'147'483'648 and 2'147'483'647 through conversion:
    const time_t time_points[]{
        1110797,     1490769,     3976212,     5465697,     6237413,     9351446,     10731844,    12202301,
        15533617,    21337614,    22327966,    24650085,    27246781,    29010007,    30729052,    32154271,
        34620851,    37834780,    37925620,    39434894,    40563221,    41365961,    43581973,    44635838,
        44897388,    45001162,    46149110,    47247729,    49732615,    57043628,    60080370,    62899577,
        62911872,    66878415,    69572658,    75073195,    75822726,    79458740,    79575604,    80900240,
        81253552,    85803541,    87179572,    94806097,    97715605,    98834000,    102984479,   104355380,
        105023196,   106883678,   109948256,   111725946,   113437519,   120043461,   122009721,   123312065,
        126306075,   126460034,   127371037,   127592007,   128695752,   130817317,   135750511,   141552483,
        148596256,   156256754,   162702935,   168069317,   168149708,   169021252,   169789030,   174051305,
        176436401,   176640315,   176742956,   183231714,   184003749,   186715900,   193230575,   197335799,
        199763489,   202435474,   204634777,   204986597,   208964101,   211117052,   211930356,   212609014,
        214176470,   214941000,   219493598,   225128793,   225368827,   227508565,   231567946,   232889100,
        233616045,   235114646,   238011451,   239466721,   245810132,   246897628,   251434959,   253593427,
        259346527,   261244917,   263315823,   265530179,   265704716,   266811726,   267425984,   271148970,
        271435088,   271679981,   272307283,   277947108,   279526360,   284971093,   286246426,   286343060,
        287557337,   288500208,   288682458,   288834402,   289118924,   289260349,   290141890,   296044860,
        302745870,   304960359,   310562262,   314197065,   314664422,   314946723,   316065142,   318251184,
        319000478,   320593653,   321738131,   326778925,   328483867,   328540959,   329298078,   330257211,
        331907843,   334473517,   334473592,   337592496,   341511890,   344314323,   348745353,   352864953,
        355355497,   355682004,   357626615,   359078823,   359253320,   360662379,   364694491,   364802900,
        368641877,   373951987,   374455821,   378434166,   381138736,   385769892,   389582889,   389767905,
        392728225,   399549585,   400034232,   401465131,   407117309,   410219471,   410407379,   410754867,
        419249228,   424950316,   427596149,   429720163,   429910543,   435424044,   436684752,   438332941,
        442890760,   443160093,   443558898,   443651323,   446111079,   446924727,   451164705,   451713433,
        453396336,   454439330,   454674827,   455343962,   456012431,   457463705,   458640584,   458915671,
        462153656,   464725577,   466070722,   466894111,   468454703,   468609986,   468817195,   469077366,
        474058097,   476722728,   480340444,   483757153,   484159209,   484480941,   484948238,   487059438,
        487779678,   490241620,   491008159,   493916325,   497641422,   499126710,   501047933,   501631889,
        509487718,   509811089,   514478243,   514691210,   515779051,   516681689,   523413348,   523963438,
        530912064,   531425628,   533324817,   533505674,   534275775,   537610079,   540979134,   542242259,
        542949057,   557269507,   558828716,   564348945,   564686011,   570944932,   571082450,   576084666,
        580244517,   583837826,   586553711,   588548438,   589668253,   590374728,   599651730,   612407963,
        612719016,   615121223,   616262464,   617784177,   619776196,   624705237,   625109995,   625130038,
        625775184,   630160442,   635724026,   638992085,   641245271,   643836584,   646940650,   648718253,
        649744589,   650582021,   650762872,   650924551,   652597246,   656732541,   660901898,   664647911,
        665804056,   666787845,   669191321,   669308375,   670659615,   673048757,   674807972,   675768732,
        676749627,   678833244,   682729525,   683786125,   686793455,   690371644,   692720419,   693611041,
        693908297,   695600153,   702416309,   707538158,   708142456,   708393379,   709237230,   712993710,
        713359079,   714991546,   720615818,   723074211,   726847115,   727192903,   731864002,   735396834,
        735938487,   736344305,   737732500,   740243573,   741088717,   741532070,   743320548,   744061016,
        745529719,   745952625,   747485128,   749488443,   752473127,   755217166,   755321571,   758016140,
        758904398,   761417474,   765083683,   770309767,   774443661,   777201125,   780312562,   780767671,
        781721675,   785105125,   789174515,   792750997,   792909961,   792972475,   796797399,   798868896,
        802429529,   803100302,   803522141,   803938218,   805032091,   809909463,   810570061,   813310762,
        813961595,   816373392,   817815204,   824449977,   824722202,   824847255,   827146895,   828479377,
        829405445,   837402296,   838452927,   843008500,   844576607,   848251197,   851824558,   856758848,
        857289302,   858195950,   859128583,   866196631,   866285647,   868509144,   868760562,   875116206,
        879316896,   879503032,   881137518,   881515444,   885511007,   888639780,   892919137,   893564811,
        893683445,   895947274,   896542133,   903512645,   904304974,   904467320,   905516784,   906119196,
        914028183,   914695565,   915583319,   922608537,   928486487,   930542340,   934029765,   934031625,
        934238504,   934591110,   934660806,   934856737,   936099590,   936367633,   936418267,   936806128,
        939577030,   941460710,   941566727,   942540980,   942589827,   944365477,   944484548,   945845674,
        946247880,   949183216,   951804040,   952204185,   952515203,   953114293,   953145993,   958070269,
        959670220,   960202840,   964552975,   965028994,   965853230,   968314524,   972318298,   976996956,
        978012122,   978556120,   981235128,   983015399,   985385020,   987376632,   994993335,   998705456,
        1001018343,  1007340863,  1011149839,  1016087758,  1016420313,  1021724154,  1022023200,  1023165018,
        1023699196,  1026733605,  1026986159,  1029444450,  1034023081,  1036840951,  1037601587,  1042266960,
        1043361322,  1044841389,  1047925484,  1054577688,  1056520206,  1057304463,  1063073355,  1067614917,
        1069965291,  1069980252,  1073601371,  1078514213,  1079275231,  1079388289,  1082579314,  1083032340,
        1084245554,  1086800106,  1087068586,  1088433174,  1092929000,  1094415636,  1094429439,  1096656824,
        1100508502,  1101906092,  1102985382,  1104603993,  1108257222,  1109256162,  1115123486,  1115160545,
        1119541743,  1120403254,  1123316323,  1123947836,  1126611139,  1127839885,  1128248061,  1132191041,
        1132350550,  1134172889,  1135323828,  1136748911,  1137663431,  1140088950,  1140718959,  1142172011,
        1145643673,  1145791714,  1147531654,  1153330372,  1155514698,  1159598480,  1162171411,  1163136594,
        1164156082,  1165331974,  1165873236,  1168179929,  1168316797,  1169512698,  1171280022,  1172694693,
        1173201212,  1173901474,  1173922025,  1177583988,  1178359170,  1178935335,  1178995258,  1180310736,
        1180659811,  1188333677,  1189312253,  1189318819,  1193412174,  1193609283,  1194000172,  1194695395,
        1195864109,  1202909981,  1204300724,  1206896626,  1207873429,  1209292539,  1210394005,  1211303598,
        1215881693,  1219383316,  1222353324,  1223060464,  1223162889,  1223499995,  1226278658,  1230019384,
        1231941646,  1232662111,  1232792766,  1236735151,  1237576462,  1237742546,  1243273193,  1244790394,
        1247178429,  1247463864,  1252413994,  1253745476,  1254173910,  1257466205,  1260345347,  1260512083,
        1262211364,  1263819292,  1266117605,  1267760476,  1268722698,  1272237794,  1273157839,  1276560885,
        1279843333,  1281270340,  1281817823,  1283591960,  1288167842,  1288850739,  1294372167,  1295703700,
        1296022795,  1301195533,  1309203970,  1311227779,  1314346030,  1316800768,  1329147340,  1330504520,
        1333715778,  1334852387,  1336631927,  1336679260,  1336831646,  1342914545,  1343862751,  1345132191,
        1345225633,  1346844220,  1347430089,  1350429945,  1350710413,  1352322695,  1355113436,  1358933581,
        1359213212,  1359879921,  1365277430,  1366617748,  1367663169,  1370094095,  1370907053,  1371745768,
        1373612279,  1374314573,  1374500992,  1376677566,  1379252550,  1380497288,  1383987729,  1384472788,
        1385298701,  1386509933,  1393687414,  1394144363,  1397356561,  1398115357,  1400123362,  1400373681,
        1402706380,  1406584013,  1407133209,  1413224248,  1414767890,  1419747793,  1422609619,  1423862559,
        1423954085,  1428882360,  1430392671,  1431782956,  1433432635,  1433490432,  1436076821,  1439460479,
        1440704862,  1442989041,  1445576194,  1449977544,  1452433095,  1452909794,  1455429581,  1460153418,
        1461947702,  1464015489,  1464645136,  1466649013,  1467147058,  1468530117,  1469232338,  1469376553,
        1472768195,  1474187406,  1476466469,  1478491105,  1481570069,  1483100279,  1483476436,  1484128497,
        1488614464,  1495169785,  1497102308,  1500377950,  1501053805,  1502821404,  1513588800,  1513801821,
        1521129866,  1521652994,  1522938155,  1525699506,  1525872539,  1526707661,  1528114641,  1528437586,
        1528769419,  1529403595,  1533773558,  1533894649,  1543016773,  1550582159,  1551202837,  1552504109,
        1553206320,  1553926194,  1554288739,  1555669339,  1556403594,  1564604662,  1564888062,  1566695773,
        1567282668,  1569327757,  1571061148,  1571408182,  1571901030,  1575076470,  1575362161,  1576064356,
        1577270470,  1577288142,  1578271825,  1578955990,  1579361543,  1579756447,  1579831787,  1582743132,
        1588536764,  1592455258,  1594742368,  1595904496,  1600005562,  1603221877,  1603787339,  1606955395,
        1607016585,  1607662263,  1608852748,  1609530094,  1609819092,  1610616171,  1611269419,  1614556848,
        1617619395,  1618379121,  1618854538,  1619171560,  1622484261,  1629616452,  1630559582,  1631724917,
        1633757478,  1635455668,  1637226962,  1637305803,  1637337508,  1637375843,  1639246077,  1639416654,
        1641678763,  1646166483,  1652070197,  1652234022,  1652370198,  1654862163,  1657376156,  1658020157,
        1658621369,  1662546153,  1663052857,  1664013043,  1666155828,  1668589638,  1669167176,  1669978571,
        1670630470,  1671743830,  1672543760,  1674510912,  1675114341,  1678298423,  1679425982,  1682024000,
        1683081093,  1688172007,  1688785866,  1688948743,  1691571725,  1697069433,  1698409987,  1707406872,
        1708429284,  1710260843,  1711527058,  1719942913,  1720038396,  1721997793,  1723721784,  1725174170,
        1725426464,  1727252557,  1727951627,  1729716782,  1730585132,  1730910772,  1733046027,  1733556387,
        1734054383,  1738531058,  1740215932,  1742295644,  1747035585,  1747707498,  1748447738,  1750794226,
        1750971221,  1755095919,  1759712714,  1762616248,  1762950293,  1765093231,  1767140918,  1768387755,
        1775661096,  1775673494,  1776226394,  1781762890,  1782620546,  1783610529,  1785922791,  1791940538,
        1792004194,  1793965456,  1796154020,  1800928799,  1802443578,  1805154759,  1808197117,  1810744864,
        1810988144,  1811059011,  1816233708,  1816457942,  1819235842,  1820378112,  1820978462,  1822305572,
        1824411218,  1825212880,  1827222068,  1829459239,  1829470277,  1830856220,  1832834418,  1833072372,
        1833267212,  1833803325,  1834481012,  1835576464,  1837422958,  1839959408,  1843802937,  1844519146,
        1846087604,  1847945887,  1849758084,  1854266032,  1856240256,  1859242673,  1861937749,  1863269901,
        1866471194,  1867956696,  1868992884,  1870477765,  1873394740,  1874507401,  1875880787,  1877535675,
        1878934010,  1879727428,  1888631243,  1891039342,  1894689027,  1894753347,  1895139720,  1898383738,
        1900904656,  1903423404,  1904858655,  1910677491,  1916123046,  1919076946,  1927479231,  1927631327,
        1927643790,  1927784091,  1930717958,  1931229989,  1936706721,  1936721919,  1939699928,  1946032949,
        1947095805,  1948971675,  1951494176,  1952288549,  1958256481,  1961390402,  1961807274,  1964138353,
        1965177828,  1967941185,  1968144236,  1972063417,  1972814182,  1973463682,  1974931343,  1975074147,
        1975370506,  1978106499,  1978993276,  1981613796,  1984259061,  1984467273,  1985960735,  1986927720,
        1987124462,  1987504628,  1987985117,  1989810570,  1990757645,  1994018445,  1995123091,  1996983359,
        2002277834,  2003959166,  2005783379,  2006798957,  2007435284,  2009102676,  2010800784,  2012073303,
        2021333056,  2023303672,  2024252407,  2024706186,  2026594157,  2027107277,  2027888664,  2034906500,
        2035529371,  2036728016,  2038105483,  2040360375,  2043730219,  2047060325,  2048940028,  2052099375,
        2053673945,  2054796956,  2055247658,  2056652083,  2057045565,  2060833072,  2061662083,  2068164387,
        2069405882,  2069921167,  2071643291,  2072122651,  2073784851,  2073867840,  2074926144,  2080513333,
        2082120704,  2084801782,  2087656173,  2088000695,  2089878037,  2090946752,  2100841550,  2101904213,
        2101910716,  2103543930,  2103736248,  2104451370,  2106668147,  2108351847,  2109352711,  2109678776,
        2112639095,  2117439714,  2119770664,  2120814374,  2123696944,  2124611801,  2126074193,  2126455380,
        2129522844,  2130837185,  2131235422,  2135830518,  2141382199,  2144364437,  2146314920,  2146898310,
        -2146310591, -2144045824, -2143934549, -2141713936, -2135872175, -2129653028, -2128535114, -2128402124,
        -2127559165, -2126926488, -2126922254, -2124585336, -2118384250, -2117787231, -2115742706, -2114947048,
        -2113677192, -2113388365, -2105941307, -2104236820, -2103161672, -2098801766, -2096422527, -2095931932,
        -2094293270, -2088239521, -2085563018, -2081874534, -2081536606, -2078106769, -2075609396, -2075378709,
        -2068213907, -2067205786, -2065861504, -2064289771, -2064003995, -2063811664, -2062561361, -2062354469,
        -2062115002, -2056811715, -2053118418, -2052176347, -2052049212, -2051551592, -2048258419, -2048180099,
        -2046963028, -2046352613, -2045150234, -2043481262, -2036615415, -2032515898, -2027615469, -2027113053,
        -2025259940, -2018977342, -2018824792, -2018002847, -2015503563, -2014985760, -2014564233, -2008314421,
        -2007487917, -2007117528, -1999966248, -1995687760, -1995169154, -1992045300, -1988085951, -1986929685,
        -1985588604, -1982126771, -1982014047, -1975689231, -1974036002, -1973297288, -1969781261, -1968604052,
        -1965513317, -1962756224, -1961686964, -1958915362, -1958093300, -1956677196, -1953263766, -1948546077,
        -1946244910, -1946243401, -1937348408, -1934303904, -1932046488, -1931854036, -1928304167, -1927890985,
        -1922304000, -1918354187, -1916855262, -1914681961, -1909592940, -1906711161, -1903450848, -1903225154,
        -1902702294, -1896613116, -1896548064, -1895113890, -1893970902, -1893899337, -1891386286, -1889667511,
        -1889409961, -1885931687, -1884138627, -1878681571, -1878118066, -1876338537, -1876045414, -1870031239,
        -1867603085, -1866594381, -1864640827, -1863404675, -1861475551, -1854164843, -1853654385, -1852505515,
        -1852204453, -1851000678, -1850450353, -1849758506, -1844458650, -1842875815, -1841860503, -1840876283,
        -1838904047, -1838396633, -1837195867, -1836999461, -1836214901, -1836017855, -1833264419, -1832516098,
        -1831069360, -1824855271, -1823233985, -1822669038, -1820714177, -1820433220, -1818110965, -1815365906,
        -1812806840, -1812622768, -1807608570, -1803598452, -1803174384, -1802091673, -1797733550, -1794179634,
        -1793608218, -1792534430, -1791384253, -1790125366, -1789671269, -1788614205, -1785982954, -1785132229,
        -1783704487, -1779911152, -1778228464, -1775823117, -1772665657, -1771338886, -1771132005, -1766530544,
        -1764369654, -1761722311, -1760487938, -1759430091, -1752198127, -1750504996, -1749468329, -1746550054,
        -1745905422, -1744979982, -1743689658, -1738195701, -1735704090, -1734608450, -1733334060, -1731794681,
        -1729208911, -1728336591, -1726768807, -1726500500, -1726081327, -1722218609, -1720804586, -1719823928,
        -1719628272, -1718006573, -1717168274, -1709956078, -1705039228, -1703154350, -1701526458, -1697686795,
        -1696961487, -1696535048, -1689613815, -1688884240, -1686481078, -1684677334, -1683708385, -1681160652,
        -1675693300, -1675155638, -1674091017, -1673760628, -1669505126, -1667994339, -1667705306, -1662038653,
        -1661281447, -1656359961, -1655299600, -1654927231, -1651043929, -1644032457, -1640736453, -1640109803,
        -1635439500, -1633452028, -1632105268, -1630160845, -1628472025, -1627306931, -1626126904, -1625393727,
        -1624557085, -1622617523, -1616742122, -1615912461, -1612868646, -1610608443, -1608361020, -1602712735,
        -1601551786, -1600060207, -1593656425, -1592886867, -1592399245, -1590797087, -1590767453, -1589560954,
        -1589203228, -1588073684, -1585296195, -1583905045, -1583322095, -1579940054, -1576064100, -1572443162,
        -1569989900, -1569452109, -1568572969, -1565720426, -1565635969, -1565503098, -1565149190, -1562316665,
        -1561002722, -1560223619, -1559192931, -1559143682, -1557643416, -1556924721, -1553268599, -1551774280,
        -1550617691, -1547871656, -1547127246, -1546650106, -1539329730, -1537430207, -1533106603, -1528851229,
        -1528648121, -1527565841, -1527326328, -1523270776, -1521938373, -1517398308, -1517148429, -1516440763,
        -1516360270, -1514416289, -1511052201, -1504198243, -1502205459, -1501561161, -1501499610, -1501201895,
        -1500924308, -1496730308, -1496604896, -1495142680, -1494761267, -1492510698, -1489831614, -1489153159,
        -1485310104, -1482661823, -1479194657, -1476834881, -1475792310, -1473428087, -1471305745, -1463573808,
        -1462713869, -1462140530, -1455052330, -1449681797, -1447282800, -1446179899, -1445987952, -1441512974,
        -1441154654, -1441082516, -1434832932, -1434047674, -1432907505, -1426588605, -1424324855, -1423167712,
        -1420482499, -1419747926, -1412405385, -1408210160, -1406977937, -1406865596, -1406482784, -1397143280,
        -1392299679, -1391413998, -1388273950, -1387029989, -1385564421, -1383463252, -1382683845, -1382115687,
        -1380626563, -1376202645, -1375435399, -1372660328, -1371416554, -1370237103, -1366710642, -1364274595,
        -1361708672, -1361307377, -1359190489, -1357883585, -1357776176, -1356702719, -1347040318, -1346543252,
        -1343797594, -1342468029, -1342284058, -1341516903, -1336261995, -1335763638, -1335558764, -1335025876,
        -1334842887, -1332630037, -1328714709, -1326642311, -1325237456, -1323470263, -1323461968, -1319458105,
        -1318737634, -1318046502, -1311393248, -1311127984, -1305417088, -1305341146, -1304156891, -1302335436,
        -1299972861, -1296354040, -1295588599, -1295097129, -1292318674, -1286851206, -1285646248, -1282627847,
        -1278380980, -1277825773, -1277039574, -1276137924, -1275900772, -1275079223, -1274717880, -1269438620,
        -1267888679, -1267611762, -1266322374, -1259129180, -1256833833, -1256544212, -1253000214, -1251494791,
        -1248571826, -1246707856, -1245770805, -1244520180, -1242764246, -1230138966, -1229616973, -1228168256,
        -1227627616, -1222780011, -1222518562, -1221495304, -1216421962, -1216219199, -1215778585, -1211478777,
        -1211104100, -1207470718, -1207336479, -1206571511, -1205294669, -1202431287, -1202257138, -1202028292,
        -1199363974, -1196318690, -1194888356, -1192675260, -1190564106, -1188400472, -1185292023, -1184373823,
        -1178487904, -1176645699, -1174251603, -1171827122, -1171332550, -1170793946, -1169970656, -1168123568,
        -1165915460, -1162890348, -1162841761, -1158072364, -1156645033, -1156204876, -1154385000, -1150156788,
        -1147630768, -1144727673, -1142662208, -1135711873, -1135663310, -1134677925, -1134535318, -1129317677,
        -1128885459, -1128285203, -1127958760, -1120700322, -1118693159, -1115698406, -1115107541, -1114957728,
        -1114135878, -1113095803, -1112026359, -1111557246, -1111315228, -1110885956, -1106927104, -1105583747,
        -1105297650, -1104680272, -1104649125, -1102429032, -1102140825, -1099529434, -1097057407, -1096782029,
        -1096712196, -1095591200, -1093400671, -1093310418, -1091915228, -1087887718, -1087292071, -1081776669,
        -1078218833, -1077367560, -1070863646, -1070589964, -1069707265, -1069602880, -1064947995, -1057553218,
        -1056308726, -1053373605, -1052914163, -1052605844, -1052149734, -1049367586, -1049160750, -1046445034,
        -1045496250, -1041698568, -1039697899, -1037728680, -1036547458, -1035194637, -1033490276, -1033489260,
        -1029099923, -1028430746, -1025240295, -1024553417, -1022623637, -1022124814, -1021797370, -1020225504,
        -1016263601, -1012941312, -1011416272, -1011332344, -1004679548, -1003879648, -1001127683, -1000988099,
        -999749525,  -988474107,  -985459091,  -984108051,  -981565643,  -981082047,  -978325398,  -976432562,
        -974435093,  -973473181,  -966723879,  -961999448,  -960061861,  -957656242,  -956558056,  -948608163,
        -946488297,  -946102788,  -944727670,  -941063256,  -940399327,  -939172225,  -931679135,  -927561804,
        -925733204,  -922767004,  -920251653,  -919537627,  -919077730,  -917614583,  -914509136,  -914177427,
        -911588172,  -909947281,  -909223188,  -908238719,  -907561620,  -906449371,  -906433125,  -905538866,
        -902653689,  -901159663,  -901147106,  -898809555,  -896813102,  -894061290,  -893610109,  -891660357,
        -891363310,  -891227883,  -889578573,  -888507537,  -885016522,  -884590332,  -883048195,  -880548800,
        -879918792,  -874372404,  -873396789,  -872104876,  -865822643,  -864452383,  -864342729,  -863229857,
        -861538365,  -853398306,  -850695070,  -850130809,  -848635008,  -848171105,  -845593203,  -841781779,
        -835365219,  -829930074,  -829064986,  -823943094,  -823910432,  -823412887,  -822099013,  -815047487,
        -813143798,  -809739623,  -807829318,  -806990180,  -798533431,  -797489640,  -791412421,  -791181144,
        -790688778,  -790423292,  -785152660,  -783015236,  -782122538,  -781732040,  -779959018,  -772053074,
        -771970320,  -768500773,  -754955347,  -750687045,  -750251059,  -748696566,  -748018941,  -743124294,
        -742947117,  -742576868,  -739895767,  -738107400,  -733789434,  -730371003,  -729403866,  -724710914,
        -724615046,  -718223984,  -715313460,  -709842381,  -708762607,  -708249055,  -705015019,  -704292630,
        -704235357,  -703625564,  -700337279,  -698569591,  -697966619,  -692730946,  -692613958,  -691679687,
        -691181730,  -688687951,  -687618681,  -687138845,  -684725560,  -684623815,  -678887200,  -678691277,
        -678624743,  -677860432,  -675900407,  -672402266,  -669393276,  -665306960,  -665211341,  -662488079,
        -660005078,  -658046803,  -654740820,  -654216332,  -651967165,  -648592638,  -644864747,  -642539431,
        -641657148,  -635544943,  -633147025,  -632727451,  -632530463,  -631757458,  -629690783,  -629246164,
        -628638563,  -627143538,  -623470592,  -617610809,  -617113322,  -612417754,  -610640294,  -610355270,
        -601333164,  -601034495,  -596631060,  -593743534,  -592968310,  -592657369,  -589182272,  -588462508,
        -584174464,  -581963108,  -580291971,  -575152943,  -574718880,  -573345116,  -573157053,  -572151532,
        -571221932,  -569887286,  -565711026,  -561389232,  -559496225,  -555742508,  -554562092,  -546877701,
        -546166019,  -544312944,  -542282055,  -540027712,  -539361581,  -535847578,  -533576863,  -532187127,
        -531952183,  -530509411,  -527937664,  -525457061,  -525292715,  -521215179,  -520887810,  -517405641,
        -516416912,  -509554859,  -508418591,  -503740954,  -503495920,  -503039735,  -499023906,  -496261622,
        -493359761,  -486312413,  -484913616,  -480725248,  -479943165,  -477601569,  -476980557,  -473889328,
        -472828629,  -469281839,  -468135525,  -463884557,  -463020210,  -462159059,  -461920854,  -460323759,
        -460011814,  -457020047,  -456344939,  -455945270,  -451176374,  -446756132,  -445345552,  -442829174,
        -440430017,  -440000785,  -433244320,  -432491308,  -430783023,  -428283862,  -425723241,  -424141266,
        -421648801,  -418403055,  -418229288,  -417538530,  -415879426,  -414543118,  -413910160,  -408060275,
        -402065717,  -401831980,  -398287503,  -398056745,  -396958762,  -394313160,  -392992352,  -389026764,
        -387156073,  -384104559,  -381075795,  -380285627,  -373413003,  -373154574,  -369007617,  -366505751,
        -365493202,  -363617974,  -362293995,  -361028266,  -359611553,  -357312267,  -354940007,  -354139403,
        -351895973,  -350724637,  -347876716,  -345784764,  -338661183,  -337331791,  -334387922,  -334032417,
        -333484435,  -329677103,  -327383938,  -323394300,  -321702067,  -319796742,  -311642028,  -311495266,
        -311163752,  -307020276,  -304474956,  -299893077,  -298909284,  -298246813,  -296114115,  -289122379,
        -288155121,  -287700375,  -285563019,  -283534271,  -283364845,  -283354616,  -282876976,  -281274136,
        -280639030,  -278219179,  -274556064,  -272626688,  -271654844,  -270825467,  -269868855,  -268853535,
        -268767346,  -265199729,  -263400244,  -262231250,  -256165733,  -253140507,  -249919231,  -249284782,
        -245900841,  -243172689,  -242174651,  -237005964,  -236900684,  -235842949,  -234577763,  -233441715,
        -230153722,  -229359759,  -228035040,  -226976481,  -224919909,  -224495353,  -218668653,  -215252142,
        -214977892,  -214408819,  -214230785,  -207443364,  -206722870,  -206122262,  -203501721,  -203276611,
        -200263608,  -193791918,  -192619483,  -191024987,  -190277211,  -189587206,  -188194052,  -186275121,
        -185505883,  -185149183,  -184980776,  -180535159,  -179674752,  -177444880,  -174932842,  -170716053,
        -169623882,  -165610421,  -161437463,  -155327148,  -155044169,  -152918474,  -151470264,  -150728974,
        -149551845,  -144729342,  -141723356,  -141120621,  -140601320,  -140589084,  -139126731,  -137322968,
        -136359468,  -132475924,  -131461375,  -131135953,  -130138512,  -128671974,  -127018633,  -125985398,
        -125935766,  -125481761,  -124964669,  -123499941,  -123010797,  -120938117,  -120416403,  -114680324,
        -113255251,  -112030596,  -111342432,  -109963737,  -109108477,  -106632068,  -106275069,  -105900968,
        -105600219,  -101213716,  -97802238,   -91763230,   -91002560,   -90122765,   -87563139,   -83422034,
        -80237089,   -78933996,   -76954289,   -73316262,   -73194863,   -72692143,   -72392657,   -68561329,
        -67413300,   -63554673,   -62318481,   -62131122,   -60364916,   -59744133,   -59142023,   -59068878,
        -58960364,   -56906677,   -54530567,   -51486673,   -42382598,   -40616246,   -37398480,   -26408650,
        -25822504,   -24581950,   -23601496,   -22501284,   -21813084,   -18013373,   -17799488,   -12581663,
        -12348724,   -11728573,   -11501377,   -8105703,    -6294705,    -2765476,    -1713415,    -603832,
        1,           2,           3,           4,           5,           6,           7,           8,
        9,           2147483645,  2147483646,  2147483647,  -1,          -2,          -3,          -4,
        -100,        -1000,       -10000,      -100000,     -2147483645, -2147483646, -2147483647
    };

    for (const time_t time_point : time_points)
    {
        const auto ran = UtcString(time_point);

        REQUIRE(ran.length() == 20);
        REQUIRE(ran[4] == '-');
        REQUIRE(ran[7] == '-');
        REQUIRE(ran[10] == 'T');
        REQUIRE(ran[16] == ':');
        REQUIRE(ran[13] == ':');
        REQUIRE(ran[19] == 'Z');
    }

    gfxrecon::util::Log::Release();
}
